<div class="row">
  <div class="col-xl-12">
    <h4>Define Candidate Pipeline</h4>
  </div>
</div>

<div class="row" style="margin-top: 5px; font-size: 14px;  color: #656c8a;">
  <div class="col-xl-12">
    Manage and track your candidates through out their recruitment process by moving
    them across various stages. Create stages according to your requirements and
    simplify your hiring.
  </div>
</div>






<br>


  <div class="row">
    <div class="col-xl-12">
      <mat-form-field style="width: 100%" appearance="outline">
        <mat-label>Workflow Name</mat-label>
        <input required [(ngModel)]="workflowName" matInput>
        <mat-error>You must enter a name!</mat-error>
      </mat-form-field>
    </div>

  </div>

  <div class="row" *ngFor="let pipeline of defaultWorkflow.Pipelines" style="padding-top: 10px;">
    <div class="col-xl-12">

      <div class="row">
        <div class="col-xl-12" style="font-weight: bold;">
          <i style="color: rgba(216,213,214,1)" class="fas fa-circle"></i> {{ pipeline.Name }}
        </div>
      </div>

      <div class="row"
           style="padding-top: 10px;
         margin-left: 18px;  padding-bottom: 15px;">


        <div class="col-xl-4"
             style="
           padding: 5px;
           "
             *ngFor="let pipelineStage of pipeline.PipelineStage">
          <div
            style=
              "background-color: #f2f8fd;
             border: 1px solid #ddd;
             padding: 8px;
             border-radius: 3px;">

            <div class="row">
              <div class="col-xl-1">
                <input
                  readonly
                  style="outline: 0;
                border: 1px solid white;
                border-radius: 3px;
                cursor: pointer; height: 25px; width: 25px;"
                  [style.background]="pipelineStage.Color"/>
              </div>
              <div class="col-xl-10" style="padding-top: 3px;">

                <h6
                  *ngIf="pipeline.Name !== 'HIRED' && pipeline.Name !== 'REJECTED'; else notHiredOrDisqualified "
                  title="Click To See Pipeline Stage Criteria"
                  style="cursor: pointer;"
                  (click)="pipelineStageCriteria(pipelineStage)"> &nbsp; {{ pipelineStage.Name }}
                </h6>

                <ng-template #notHiredOrDisqualified>

                  <h6>
                    &nbsp; {{ pipelineStage.Name }}
                  </h6>

                </ng-template>

              </div>
            </div>

            <div class="row" style="padding-top: 30px;">
              <div class="col-xl-12 text-xl-right">

                <i
                  (click)="editPipelineStage(pipelineStage)"
                  style="cursor: pointer;
              opacity: .8;
               color: #345188; font-size: 17px;" class="fas fa-pencil-alt"></i>&nbsp;
                <i
                  *ngIf="pipeline.PipelineStage.length > 1
                && pipeline.Name !== 'REJECTED'"
                  style="cursor: pointer;
              opacity: .8;
               color: #bc0000; font-size: 17px;" class="far fa-trash-alt"></i>
              </div>
            </div>
          </div>




        </div>

        <div class="col-xl-4"
             *ngIf="pipeline.Name === 'INREVIEW' ||
pipeline.Name === 'INTERVIEW' ||
 pipeline.Name === 'OFFERED'"
             style="
           padding: 5px;">
          <div
            style=
              "background-color: #f2f8fd;
             border: 1px dashed #7e88e1;
             padding: 8px;
             border-radius: 3px;">

            <div class="row">
              <div class="col-xl-12"
                   style="color: #00a7de;
                 padding-bottom: 31px;
                 padding-top: 31px;
                 font-size: 14px;
                  text-align: center;">
             <span
               (click)="addNewPipelineStage(pipeline.Id)"
               style="cursor: pointer;"> <i class="fas fa-plus-circle"></i> Add</span>
              </div>
            </div>

          </div>
        </div>


        <div class="offset-xl-4 col-xl-4"
             *ngIf="pipeline.Name === 'NEW' ||
pipeline.Name === 'HIRED' "
             style="
           padding: 5px;">
          <div
            style=
              "background-color: #f3f5f7;
             border: 1px solid #f3f5f7;
             padding: 14px;
             border-radius: 3px;">

            <div *ngIf="pipeline.Name === 'NEW'">
              <div class="row" >
                <div class="col-xl-12">
                  <h6>Active stages</h6>
                </div>
              </div>
              <div class="row" >
                <div class="col-xl-12" style="font-size: 14px; opacity: .8;">
                  Active stage represent a potential candidate's journey.
                </div>
              </div>
            </div>

            <div *ngIf="pipeline.Name === 'HIRED'">
              <div class="row" >
                <div class="col-xl-12">
                  <h6>Closed stages</h6>
                </div>
              </div>
              <div class="row" >
                <div class="col-xl-12" style="font-size: 14px; opacity: .8;">
                  Closed stage represent the result of your candidate journey.
                </div>
              </div>
            </div>



          </div>
        </div>

      </div>


    </div>
  </div>

<br>

<div class="row" style="padding-top: 5px; padding-bottom: 5px;">
  <div class="col-xl-12">

      <button
        (click)="addNewWorkflow()"
        mat-flat-button
        [disabled]="workflowName == '' || isDisabled"
        color="primary"
        style="outline: 0;">
        Save</button>
      <button
        routerLink="/settings/workflow"
        mat-stroked-button
        style="outline: 0;">Cancel
      </button>



  </div>
</div>


